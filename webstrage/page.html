<!DOCTYPE html>
<html>
<head>
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Chapter 13: Web Storage [Another Page]</title>
  <style>
    input {
      padding: 10px 5px;
    }

    button {
      margin: 10px 0;
      padding: 5px 10px;
      color: white;
    }

    #rewrite {
      background-color: royalblue;
    }

    #back {
      background-color: cadetblue;
    }
  </style>
</head>

<body>
  <p>さっきのページで「<span></span>」と記録しましたね？</p>

  <p>
    こちらからも書き換えられます<br>
    <input>
    <button id="rewrite">書き換え</button>
  </p>

  <button id="back">戻る</button>

  <script>
    const storage = localStorage

    document.addEventListener('DOMContentLoaded', () => {
        const span = document.querySelector('span')
        span.textContent = storage.store || '［未記録］'
    })

    document.getElementById('rewrite').addEventListener('click', (ev) => {
        storage.store = document.querySelector('input').value
        ev.currentTarget.textContent = '書き換え完了'
    })

    document.getElementById('back').addEventListener('click', () => {
        history.back()
    })
  </script>
</body>

</html>